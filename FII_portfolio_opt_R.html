<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-0.9.626">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Marcus Antonio Cardoso Ramalho">

<title>FII_portfolio_opt_R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="FII_portfolio_opt_R_files/libs/clipboard/clipboard.min.js"></script>
<script src="FII_portfolio_opt_R_files/libs/quarto-html/quarto.js"></script>
<script src="FII_portfolio_opt_R_files/libs/quarto-html/popper.min.js"></script>
<script src="FII_portfolio_opt_R_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="FII_portfolio_opt_R_files/libs/quarto-html/anchor.min.js"></script>
<link href="FII_portfolio_opt_R_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="FII_portfolio_opt_R_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="FII_portfolio_opt_R_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="FII_portfolio_opt_R_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="FII_portfolio_opt_R_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet">
<script src="FII_portfolio_opt_R_files/libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="FII_portfolio_opt_R_files/libs/plotly-binding-4.10.0/plotly.js"></script>
<script src="FII_portfolio_opt_R_files/libs/typedarray-0.1/typedarray.min.js"></script>
<script src="FII_portfolio_opt_R_files/libs/jquery-3.5.1/jquery.min.js"></script>
<link href="FII_portfolio_opt_R_files/libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="FII_portfolio_opt_R_files/libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="FII_portfolio_opt_R_files/libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="FII_portfolio_opt_R_files/libs/plotly-main-2.5.1/plotly-latest.min.js"></script>


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">FII_portfolio_opt_R</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Marcus Antonio Cardoso Ramalho </p>
          </div>
  </div>
    
    
  </div>
  

</header>

<p>Packages used:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyquant)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tibbletime)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quantmod)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(PerformanceAnalytics)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="co">#loading data</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>selic<span class="ot">&lt;-</span>readxl<span class="sc">::</span><span class="fu">read_xlsx</span>(<span class="st">"dados/historico_selic.xlsx"</span>)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>ifix<span class="ot">&lt;-</span>readxl<span class="sc">::</span><span class="fu">read_xlsx</span>(<span class="st">"dados/Retornos_ifix.xlsx"</span>)</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>ret_comb<span class="ot">&lt;-</span><span class="fu">rbind</span>(selic,ifix)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="context" class="level3">
<h3 class="anchored" data-anchor-id="context">Context</h3>
<p>This work is part of Marcus Ramalho undeargraduation final project in administration on Universidade Federal Fluminense, entitled: Análise de risco e rentabilidade de uma carteira de fundos de investimento imobiliário.</p>
<p>This part of the project is focused on a method of optimization for a portfolio. The code itself, from the data aquisition to the optmization was adapted from various sources and built using the knowledge aquired by the student during the first covid-19 pandemic year when Dr.&nbsp;Ariel Levy offered a remote course on finance with R for administration students.</p>
<p>To better understand this project first we need to present some simple concepts about FII’s and risk in finance. FII’s or Fundos de Investimento Imobiliário are a booming tipe of real state investment in Brazil, there was more than one milion investor in 2020 , in their majority small investor, comparing with 2010 when there was less than fifty thousand investors, the growth of the market is notable. The appeal of this investment is related to the changes in the Brazilian economy after 2016. With the lowest basic interest rate ever, market players saw in FII’s an opportunity to earn more when compared to risk-free investments, with a lower risk compared to other equity assets.</p>
<div class="cell">
<div class="cell-output-display">
<div id="htmlwidget-02f091632ed2a97174d3" style="width:100%;height:464px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-02f091632ed2a97174d3">{"x":{"visdat":{"4ec84ce054a9":["function () ","plotlyVisDat"]},"cur_data":"4ec84ce054a9","attrs":{"4ec84ce054a9":{"x":{},"y":{},"mode":"lines","color":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"IFIX and SELIC returns compared jan/2017-dec/2019","xaxis":{"domain":[0,1],"automargin":true,"title":"date"},"yaxis":{"domain":[0,1],"automargin":true,"title":"returns"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["2017-02-28 00:00:00.000000","2017-03-31 00:00:00.000000","2017-04-30 00:00:00.000000","2017-05-31 00:00:00.000000","2017-06-30 00:00:00.000000","2017-07-31 00:00:00.000000","2017-08-31 00:00:00.000000","2017-09-30 00:00:00.000000","2017-10-31 00:00:00.000000","2017-11-30 00:00:00.000000","2017-12-31 00:00:00.000000","2018-01-31 00:00:00.000000","2018-02-28 00:00:00.000000","2018-03-31 00:00:00.000000","2018-04-30 00:00:00.000000","2018-05-31 00:00:00.000000","2018-06-30 00:00:00.000000","2018-07-31 00:00:00.000000","2018-08-31 00:00:00.000000","2018-09-30 00:00:00.000000","2018-10-31 00:00:00.000000","2018-11-30 00:00:00.000000","2018-12-31 00:00:00.000000","2019-01-31 00:00:00.000000","2019-02-28 00:00:00.000000","2019-03-31 00:00:00.000000","2019-04-30 00:00:00.000000","2019-05-31 00:00:00.000000","2019-06-30 00:00:00.000000","2019-07-31 00:00:00.000000","2019-08-31 00:00:00.000000","2019-09-30 00:00:00.000000","2019-10-31 00:00:00.000000","2019-11-30 00:00:00.000000","2019-12-31 00:00:00.000000"],"y":[0.0486690442962733,0.00195183502065201,0.00149545950944991,0.0102610199129607,0.00845508690895825,-0.00383291388238008,0.00861973003450793,0.0657629558541268,0.0023457373764661,-0.005920242918617,0.00604587272037166,0.026396162518078,0.0114561772775606,0.0199575151098248,-0.00860642873503735,-0.0526858487538774,-0.0401470568309616,0.0137538701875571,-0.00698554155352862,-0.00214546134430221,0.050421348972508,0.0258779459965663,0.0222171025177355,0.024706687815478,0.0103208296502869,0.0198680665089379,0.0102781794090047,0.0176363890051626,0.0287578985305697,0.0127375195156316,-0.00107536989340307,0.0103775751028536,0.0401302407367393,0.0352008252208111,0.10632953436715],"mode":"lines","type":"scatter","name":"IFIX.SA","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"line":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2017-02-28 00:00:00.000000","2017-03-31 00:00:00.000000","2017-04-30 00:00:00.000000","2017-05-31 00:00:00.000000","2017-06-30 00:00:00.000000","2017-07-31 00:00:00.000000","2017-08-31 00:00:00.000000","2017-09-30 00:00:00.000000","2017-10-31 00:00:00.000000","2017-11-30 00:00:00.000000","2017-12-31 00:00:00.000000","2018-01-31 00:00:00.000000","2018-02-28 00:00:00.000000","2018-03-31 00:00:00.000000","2018-04-30 00:00:00.000000","2018-05-31 00:00:00.000000","2018-06-30 00:00:00.000000","2018-07-31 00:00:00.000000","2018-08-31 00:00:00.000000","2018-09-30 00:00:00.000000","2018-10-31 00:00:00.000000","2018-11-30 00:00:00.000000","2018-12-31 00:00:00.000000","2019-01-31 00:00:00.000000","2019-02-28 00:00:00.000000","2019-03-31 00:00:00.000000","2019-04-30 00:00:00.000000","2019-05-31 00:00:00.000000","2019-06-30 00:00:00.000000","2019-07-31 00:00:00.000000","2019-08-31 00:00:00.000000","2019-09-30 00:00:00.000000","2019-10-31 00:00:00.000000","2019-11-30 00:00:00.000000","2019-12-31 00:00:00.000000"],"y":[0.0093,0.0099,0.0091,0.0091,0.0081,0.0082,0.0075,0.0065,0.0066,0.006,0.0058,0.0058,0.0051,0.005499,0.005189,0.005363,0.005189,0.005363,0.005363,0.005189,0.005363,0.005189,0.005363,0.0054,0.004843,0.005363,0.005189,0.0054,0.0052,0.0054,0.004961,0.0046,0.0046,0.004,0.0039],"mode":"lines","type":"scatter","name":"selic","marker":{"color":"rgba(141,160,203,1)","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"line":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Explaim risk: Risk is…</p>
</section>
<section id="purpose" class="level3">
<h3 class="anchored" data-anchor-id="purpose">Purpose</h3>
<p>This project aimed to select a optmized portfolio considering a scenario of low economy basic interest rate</p>
</section>
<section id="metodology" class="level3">
<h3 class="anchored" data-anchor-id="metodology">Metodology</h3>
<p>There are a many ways for optmizing a portfolio in R</p>
</section>
<section id="results" class="level3">
<h3 class="anchored" data-anchor-id="results">Results</h3>
</section>
<section id="conclusion" class="level3">
<h3 class="anchored" data-anchor-id="conclusion">Conclusion</h3>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>