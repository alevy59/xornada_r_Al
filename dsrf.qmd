---
title: "teste"
format: html
editor: visual
---
```{r}

library(tidyverse)
library(lubridate)
library(tidyquant)
library(tibbletime)
library(quantmod)
library(PerformanceAnalytics)
library(plotly)
library(readxl)
library(timetk)

portfolio <- read_delim("dados/carteira_final.txt")
(tick<-portfolio$Ticker)

Rfr<-0.02

price_data <- tq_get(tick,
                     from = '2017-01-02',
                     to = '2019-12-31',
                     get = 'stock.prices')

#Next we will calculate the daily returns for 
#these stocks. We will use the logarithmic returns.

log_ret_tidy <- price_data %>%
  group_by(symbol) %>%
  tq_transmute(select = adjusted,
               mutate_fun = periodReturn,
               period = 'daily',
               col_rename = 'ret',
               type = 'log')
```

